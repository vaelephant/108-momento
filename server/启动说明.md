# Momento AI Photo Management System 启动说明

## 🚀 快速启动

### 1. 环境准备

确保已安装以下软件：
- Python 3.8+
- PostgreSQL 12+
- Redis 6+

### 2. 安装依赖

```bash
# 进入项目目录
cd server

# 创建虚拟环境（可选）
conda creat -n momento python=3.11

# 安装依赖
pip install -r requirements.txt
```

### 3. 配置环境变量

创建 `.env` 文件（如果还没有）：

```bash
# 复制示例配置
cp env.example .env
```

编辑 `.env` 文件，设置你的配置：

```env
# 数据库配置
DATABASE_URL=postgresql://postgres:你的密码@localhost:5432/momento
REDIS_URL=redis://localhost:6379/0

# 其他配置（可选）
DEBUG=true
SECRET_KEY=your-secret-key-here
```

### 4. 设置数据库

```bash
# 运行数据库设置脚本
python setup_database.py
```

### 5. 启动服务

#### 方式一：使用启动脚本（推荐）

```bash
 lsof -t -i:8003 | xargs kill -9   &&   clear && python start.py

```

#### 方式二：手动启动

```bash
# 启动FastAPI服务
lsof -t -i:8003 | xargs kill -9   &&   clear &&  uvicorn app.main:app --host 0.0.0.0 --port 8003 --reload

```

### 6. 验证服务

访问以下地址验证服务是否正常：

- **API文档**: http://localhost:8000/docs
- **健康检查**: http://localhost:8000/health
- **根路径**: http://localhost:8000/

## 🔧 详细配置

### 数据库配置

1. **创建数据库**：
```sql
CREATE DATABASE momento;
CREATE USER momento WITH PASSWORD 'momento';
GRANT ALL PRIVILEGES ON DATABASE momento TO momento;
```

2. **验证连接**：
```bash
python check_tables.py
```





